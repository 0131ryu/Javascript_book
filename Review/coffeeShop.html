<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="style.css" rel="stylesheet" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <!--fontawesome-->
    <link href="asset/css/all.css" rel="stylesheet">
    <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"
  ></script>
<!--JS-->
<script src="script.js"></script>
  </head>
  <body>

    <!--로그인 모달창 시작-->
    <div style="overflow: hidden;" style="position: relative">
    <div class="login-background" id="login-bg">
      <div class="login-item">
        <p>로그인</p>
        <form>
          <div class="form-group">
            <input
              type="email"
              class="form-control"
              placeholder="이메일을 입력하세요"
              id="email"
            />
            <p id="email-alert">이메일을 입력하지 않았습니다.</p>
          </div>
          <div class="form-group">
            <input
              type="passwrod"
              class="form-control"
              placeholder="비밀번호를 입력하세요"
              id="password"
            />
            <p id="password-alert">비밀번호를 입력하지 않았습니다.</p>
          </div>
          <div class="form-btn" style="position:relative">
            <button class="login-btn">Login</button>
            <button class="home-btn">Home</button>
          </div>
        </form>
      </div>
    </div>
  </div>
    <!--로그인 모달창 끝-->

    <!--navbar 시작(상단메뉴창)-->
  
    <div class="navbar-All" style="position: fixed">
      <div class="navbar-front-menu">
        <a id="nav-menu-login">Sign In</a>
      <a id="nav-menu-home">MyCoffeeShop</a>
      <a id="nav-menu-customer">고객 서비스</a>
      <a id="nav-menu-searchStore">매장 찾기</a>
      <a id="nav-menu"><i class="fa-solid fa-magnifying-glass"></i></a>
      </div>
      <div class="navbar-back-brand">
      <h1 class="navbar-brand">MyCoffeShop</h1>
    </div>
    <div  class="navbar-back-menu">
      <a id="nav-menu-coffee">Coffee</a>
      <a id="nav-menu-menu">Menu</a>
      <a id="nav-menu-new">New goods</a>
      <a id="nav-menu-store">Store</a>  
    </div>
    </div>


  <!--navbar 목록 나오기 시작-->
 <ul class="menu-list-coffee" style="display: none;">
      <li class="menu-list-item">나와 어울리는 커피</li>
      <li class="menu-list-item">커피 음료</li>
      <ul class="menu-sub-list">
        <li class="menu-list-item-list">아메리카노</li>
        <li class="menu-list-item-list">마끼아또</li>
        <li class="menu-list-item-list">카푸치노</li>
        <li class="menu-list-item-list">라떼</li>
        <li class="menu-list-item-list">모카</li>
      </ul> 
      <li class="menu-list-item">커피용품</li>
      <ul class="menu-sub-list">
        <li class="menu-list-item-list">커피메이커</li>
        <li class="menu-list-item-list">커피프레스</li>
      </ul> 
    </ul>

    <ul class="menu-list-menu" style="display: none;">
      <li class="menu-list-item">음료</li>
      <ul class="menu-sub-list-f">
        <li class="menu-list-item-list">콜드브루</li>
        <li class="menu-list-item-list">브루드커피</li>
        <li class="menu-list-item-list">에스프레소</li>
        <li class="menu-list-item-list">프라푸치노</li>
        <li class="menu-list-item-list">블렌디드</li>
        <li class="menu-list-item-list">티</li>
      </ul> 
      <li class="menu-list-item">푸드</li>
      <ul class="menu-sub-list-f">
        <li class="menu-list-item-list">브레드</li>
        <li class="menu-list-item-list">케이크</li>
        <li class="menu-list-item-list">샌드위치</li>
        <li class="menu-list-item-list">샐러드</li>
      </ul> 
      <li class="menu-list-item">상품</li>
      <ul class="menu-sub-list-f">
        <li class="menu-list-item-list">머그</li>
        <li class="menu-list-item-list">유리잔</li>
        <li class="menu-list-item-list">플라스틱 텀블러</li>
        <li class="menu-list-item-list">스텐 텀블러</li>
        <li class="menu-list-item-list">보온병</li>
        <li class="menu-list-item-list">커피용품</li>
      </ul> 
    </ul>

    <ul class="menu-list-store" style="display: none;">
      <li class="menu-list-item-s">매장찾기</li>
      <ul class="menu-sub-list-s">
        <li class="menu-list-item-list">검색하기</li>
      </ul> 
      <li class="menu-list-item-s">온라인 매장</li>
      <li class="menu-list-item-s">매장의 역사</li>
    </ul>

    <ul class="menu-list-new" style="display: none;">
      <li class="menu-list-item-n">신메뉴</li>
      <ul class="menu-sub-list-n">
        <li class="menu-list-item-list">이번 달 주목</li>
      </ul> 
      <li class="menu-list-item-n">새상품</li>
      <li class="menu-list-item-n">기타안내</li>
    </ul>
<!--navbar 목록 나오기 끝-->

 <!--navbar 끝(상단메뉴창)-->


    <!--왼쪽에서 메뉴보기-->
    <div class="left-bar">
      <p>카페 소개</p>
      <p>카페 메뉴</p>
      <p>판매 상품</p>
      <p>안내 페이지</p>
      <button id="left-bar-close">닫기</button>
    </div>

    <!--메인 이미지 시작-->
    <div class="main-background">
      <div class="main-title">
        <h1 class="main-title-h1" style="display: none;">MyCoffeeShop</h1>
        <p class="main-title-p" style="display: none;">A place to truly relax and enjoy coffee</p>
        <button id="left-bar-button">왼쪽에서 메뉴 보기</button>
      </div>
      <div class="main-img" style="position: relative;">
        <img src="img/main-coffee1.png" class="main-img-num1">
        <img src="img/main-coffee2.png" class="main-img-num2">
        <img src="img/main-coffee3.png" class="main-img-num3">
      </div>
    </div>
    
    <!--메인 이미지 끝-->

    <!--회원가입 창 시작-->
    <div>
    <div class="membership">
      <div class="membership-title">
        <h1 class="membership-title-h1">MyCoffeeShop의 특별한 혜택, 회원가입!</h1>
        <p class="membership-title-p">MyCoffeeShop 회원이세요? 로그인을 통해 혜택을 즐기세요.</p>
        <p class="membership-title-p">MyCoffeeShop 회원이 아니세요? 가입을 통해 혜택을 누리세요.</p>
        <button class="membership-signIn">회원가입</button>
        <button class="membership-LogIn">로그인</button>
      </div>
    </div>
  </div>
    <!--회원가입 창 끝-->

    <div class="content-background">
      <div class="content-item">
        <p class="content-item-title">
          <button class="btn-login" id="login">Login</button>
        </p>
      </div>
      <div class="content-item"><p class="content-item-title">Search</p></div>
      <div class="content-item"><p class="content-item-title">ImageSlide</p>
        <!--slider-->
      <div class="slider">
        <div class="img-box">
          <img src="img/tea1.jpg" class="slider-img">
                  <!--Next and Prev Buttons-->
          <div class="slider-button">
        <button class="btn" onclick="prev()">Prev</button>
        <button class="btn" onclick="next()">Next</button>
      </div>
        </div>

      </div>
  </div>
        <div class="content-item"><p class="content-item-title">Other</p></div>
      </div>
    </div>
    
<br/>
<!--탭 슬라이드 시작-->
<div class="container mt-5">
  <ul class="tab-list">
    <li class="tab-btn" data-id="0">Products</li>
    <li class="tab-btn show-tab" data-id="1">Information</li>
    <li class="tab-btn" data-id="2">Shipping</li>
    <li class="tab-btn" data-id="3">Others</li>
  </ul>

  <div class="tab-content">
    <p>상품설명입니다. Product
      <!--이미지 슬라이드 시작-->

    <div style="overflow: hidden; position: relative"> 
      <!--화면에 1개씩 이미지 나오게 하기 위함-->
    <div class="imgSlide">
      <div class="imgContent">
        <img src="img/coffee1.jpg">
      </div>
      <div class="imgContent">
        <img src="img/coffee2.jpg">
      </div>
      <div class="imgContent">
        <img src="img/coffee3.jpg">
      </div>
      <div class="imgContent">
        <img src="img/coffee4.jpg">
      </div>
      <div class="imgContent">
        <img src="img/coffee5.jpg">
      </div>
    </div>
    <button class="imgRight">right</button>
    <button class="imgLeft">left</button>
    <div class="imgAllBtn">
      <button class="imgBtn1">1</button>
      <button class="imgBtn2">2</button>
      <button class="imgBtn3">3</button>
      <button class="imgBtn4">4</button>
      <button class="imgBtn5">5</button>
    </div>
  </div>
<!--이미지 슬라이드 끝-->
    </p>
  </div>
  <div class="tab-content show-content">
    <p>상품정보입니다. Info</p>
  </div>
  <div class="tab-content">
    <p>배송정보입니다. Shipping</p>
  </div>
  <div class="tab-content">
    <p>문의사항입니다. Others</p>
  </div>
</div>
<!--탭 슬라이드 끝-->
<!-- form 태그 시작-->
<form class="container my-5">
  <div class="form-group">
    <p>상품선택</p>
    <select class="form-control" id="checkList1">
      <option>커피</option>
      <option>스파클링</option>
      <option>쉐이크</option>
      <option>티(tea)</option>
    </select>

    <div class="c-select">
      <p class="mt-4">온도 선택</p>
      <select class="form-control" id="checkList2">
        <option>뜨거움</option>
      <option>차가움</option>
      </select>
    </div>

    <div class="menu-select">
      <p class="mt-4">메뉴 선택</p>
      <select class="form-control" id="checkList3">
        <option>아메리카노</option>
      <option>라떼</option>
      <option>아인슈페너</option>
      </select>
    </div>
  </div>
</form>
<!-- form 태그 끝-->

<!--sort, filter 사용-->
<div class="card-group container">
  <div class="card">
    <img src="https://via.placeholder.com/400" />
    <div class="card-body">
      <h5 class="ItemName" id="card-ItemName0">Test1</h5>
      <p>가격 : <span class="ItemPrice" id="card-ItemPrice0">1000</span></p>
      <button class="btn btn-secondary">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/400" />
    <div class="card-body">
      <h5 class="ItemName" id="card-ItemName1">Test2</h5>
      <p>가격 : <span class="ItemPrice" id="card-ItemPrice1">2000</span></p>
      <button class="btn btn-secondary">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/400" />
    <div class="card-body">
      <h5 class="ItemName" id="card-ItemName2">Test3</h5>
      <p>가격 : <span class="ItemPrice" id="card-ItemPrice2">3000</span></p>
      <button class="btn btn-secondary">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/400" />
    <div class="card-body">
      <h5 class="ItemName" id="card-ItemName3">Test4</h5>
      <p>가격 : <span class="ItemPrice" id="card-ItemPrice3">4000</span></p>
      <button class="btn btn-secondary">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/400" />
    <div class="card-body">
      <h5 class="ItemName" id="card-ItemName4">Test5</h5>
      <p>가격 : <span class="ItemPrice" id="card-ItemPrice4">5000</span></p>
      <button class="btn btn-secondary">주문하기</button>
    </div>
  </div>
</div>

 <!--상품정렬-->
 <div class="container my-4">
  <button class="btn btn-primary" id="sortEng">가나다순정렬</button>
  <button class="btn btn-danger" id="sortPrice">가격순정렬</button>
  <!--6만원 이하만 보기-->
  <button class="btn btn-success" id="filterPrice">2만원이하</button>
  <button class="btn btn-warning" id="sortCurrent">되돌리기</button>
</div>

<!--6만원 이하 결과-->
<div class="card-group container">
  <div class="card2">
    </div>
</div>

<button class="btn btn-warning" id="test">json테스트</button>
<script>

  //navbar-All 내 a항목을 누르면 하위 목록들이 보이기
$("#nav-menu-coffee").click(function () {
  $(".menu-list-coffee").slideToggle();
});

$("#nav-menu-menu").click(function () {
  $(".menu-list-menu").slideToggle();
});

$("#nav-menu-store").click(function () {
  $(".menu-list-store").slideToggle();
});

$("#nav-menu-new").click(function () {
  $(".menu-list-new").slideToggle();
});

//sign in 클릭 시 로그인 화면 나오기
$("#nav-menu-login").click(function () {
  $(".login-background").addClass("login-slide");
});

//로그인 배경(login-background)을 누를 경우 창이 닫힘
$(".login-background").click(function (e) {
  if (e.target == e.currentTarget) {
    $(".login-background").hide();
  }
});

//화면 페이지 새로고침 시 글자와 이미지가 사라졌다가 보임
//fadeIn 사용하기(opacity -> fadeIn)
$(document).ready(function () {
  //글자 보이게 하기
  $(".main-title-h1").fadeIn(2000);
  $(".main-title-p").fadeIn(2000);
  //그림 순서대로 1 2 3보이게 하기
  for (let i = 1; i < 4; i++) {
    $(".main-img-num" + i).fadeIn(1000 * i);
  }
});

//폼 전송 시
//모달창에서 Login 누르면 이메일이 없을 경우 이메일 없다고 나옴

//모달창에서 Login 누르면 비밀번호가 없을 경우 비밀번호 없다고 나옴
$("form").on("submit", function (e) {
  if ($("#email").val() == "") {
    e.preventDefault();
    $("#email-alert").show();
  }
  if ($("#password").val() == "") {
    e.preventDefault();
    $("#password-alert").show();
  }
});

//모달 열 경우 홈 버튼 누르면 모달창 닫기
$(".home-btn").click(function () {
  $(".login-background").hide();
});

//left-bar-button을 버튼을 누를 경우 왼쪽에 left-bar 보이게 함
$("#left-bar-button").click(function () {
  //$(".left-bar").css("marginLeft", "0px");
  $(".left-bar").addClass("left-bar-show");
});

//left-bar-close 버튼을 누를 경우 왼쪽에 left-bar 가림
$("#left-bar-close").click(function () {
  //$(".left-bar").css("marginLeft", "-200px");
  $(".left-bar").addClass("left-bar-closeBar");
});

//슬라이드
$(".imgBtn1").click(function () {
  $(".imgSlide").css("transform", "translateX(-0vw)");
});
$(".imgBtn2").click(function () {
  $(".imgSlide").css("transform", "translateX(-100vw)");
});
$(".imgBtn3").click(function () {
  $(".imgSlide").css("transform", "translateX(-200vw)");
});
$(".imgBtn4").click(function () {
  $(".imgSlide").css("transform", "translateX(-300vw)");
});
$(".imgBtn5").click(function () {
  $(".imgSlide").css("transform", "translateX(-400vw)");
});

var currentImg = 1;

$(".imgRight").click(function () {
  $(".imgSlide").css("transform", "translateX(-" + currentImg + "00vw)");
  if (currentImg < 4) {
    currentImg = currentImg + 1;
  }
});

$(".imgLeft").click(function () {
  $(".imgSlide").css("transform", "translateX(-" + (currentImg - 2) + "00vw)");
  if (currentImg > 1) {
    currentImg = currentImg - 1;
  }
});

//slider
var slider_img = document.querySelector(".slider-img");
var imgaes = ["tea1.jpg", "tea2.jpg", "tea3.jpg"];

var i = 0; //Current Image Index

function prev() {
  if (i <= 0) i = imgaes.length;
  i--;
  return setImg();
}

function next() {
  if (i >= imgaes.length - 1) i = -1;
  i++;
  return setImg();
}

function setImg() {
  return slider_img.setAttribute("src", "img/" + imgaes[i]);
}

//navbar 관련
//스크롤바를 내리면 navbar가 투명 -> 흰색으로 변경, 로고 색 흰색 -> 브라운
$(window).on("scroll", function () {
  if ($(window).scrollTop() > 100) {
    $(".navbar").addClass("navbar-change");
    $(".navbar-brand").addClass("navbar-brand-change");
  }
  //스크롤바를 올리면 처음 상태로 되돌리기
  else {
    $(".navbar").removeClass("navbar-change");
    $(".navbar-brand").removeClass("navbar-brand-change");
  }

  //탭 관련
  //버튼 0번째를 누르면 버튼 1, 버튼2에 붙은 주황색 제거(show-tab)
  //버튼 0번째를 누르면 내용 1, 2에 붙은 주황색 제거(show-content)
  //버튼 0이 주황색으로 표시
  //내용 0이 보여야함

  /*
  $(".tab-btn")
    .eq(0)
    .click(function () {
      $(".tab-btn").removeClass("show-tab");
      $(".tab-content").removeClass("show-content");

      $(".tab-btn").eq(0).addClass("show-tab");
      $(".tab-content").eq(0).addClass("show-content");
    });
  */

  //for를 사용한 방법
  for (let i = 0; i < $(".tab-btn").length; i++) {
    $(".tab-btn")
      .eq(i)
      .click(function (e) {
        tabOpen(e.target.dataset.id);
      });
  }

  //탭 기능 반복되는 것 -> 함수로 축약
  function tabOpen(openNum) {
    $(".tab-btn").removeClass("show-tab");
    $(".tab-content").removeClass("show-content");

    $(".tab-btn").eq(openNum).addClass("show-tab");
    $(".tab-content").eq(openNum).addClass("show-content");
  }
});

//form
var cafeMenu = ["커피", "스파클링", "쉐이크", "티(tea)"];
var temp = ["뜨거움", "차가움"];
var coffeeMenu = ["아메리카노", "라떼", "아인슈페너"];

$("#checkList1").on("change", function () {
  //만약 사용자가 선택한 값이 커피 경우
  if ($("#checkList1").val() == cafeMenu[3]) {
    //밑의 UI를 보여줌
    temp.forEach(function (i) {
      var tempShow = `<option>${i}</option>`;
      $("#checkList2").append(tempShow);
    });
  } else if ($("#checkList1").val() == cafeMenu[0]) {
    temp.forEach(function (i) {
      var tempShow = `<option>${i}</option>`;
      $("#checkList2").append(tempShow);
    });
    coffeeMenu.forEach(function (i) {
      var coffeeShow = `<option>${i}</option>`;
      $("#checkList3").append(coffeeShow);
    });
  }
  // else if ($("#checkList1").val() == "쉐이크") {
  //   $(".c-select").css.display = "none";
  //   $(".menu-select").css.display = "none";
  // }
});

   //sort, filter
   var coffeeItems = [
    { id: 0, ItemPrice: 15000, ItemName: "Brazil dark coffee" },
    { id: 1, ItemPrice: 30000, ItemName: "Ethiopia medium coffee" },
    { id: 2, ItemPrice: 25000, ItemName: "Columbia non-caffeine coffee" },
    { id: 3, ItemPrice: 20000, ItemName: "Vietnam non-caffeine coffee" },
    { id: 4, ItemPrice: 18000, ItemName: "Indonesia dark coffee" },
  ];

  //데이터바인딩(함수로 묶기)
  function coffeeData() {
    for (var i = 0; i < 5; i++) {
      $(".ItemName").eq(i).html(coffeeItems[i].ItemName);
      $(".ItemPrice").eq(i).html(coffeeItems[i].ItemPrice);
    }
  }

  //html 내 <!--sort, filter 사용-->에 js 데이터 넣기
  // document.getElementById("card-ItemName1").innerHTML= coffeeItems[0].ItemName;

  for(var i=0; i<5; i++) {
    document.getElementById("card-ItemName"+i).innerHTML= coffeeItems[i].ItemName;
    document.getElementById("card-ItemPrice"+i).innerHTML= coffeeItems[i].ItemPrice;
  }

  //sort를 이용해 가격 정렬
  $("#sortPrice").click(function () {
    coffeeItems.sort(function (a, b) {
      return a.ItemPrice - b.ItemPrice;
    });
    //sort를 통해 데이터 정렬 후 데이터바인딩
    coffeeData();
  });

  // //sort로 가나다순 정렬
  $("#sortEng").click(function () {
    coffeeItems.sort(function (a, b) {
      if (a.ItemName < b.ItemName == true) {
        //글자 비교(부등호), +를 return 하면 b를 왼쪽, -는 b를 오른쪽
        return -1;
      } else {
        return 1;
      }
    });
    //sort를 통해 데이터 정렬 후 데이터바인딩
    coffeeData();
  });

  //filter를 이용해 2만원 이하만 남기기
  
  $("#filterPrice").click(function() {
    var newCoffeeItems = coffeeItems.filter(function(a) {
      return a.ItemPrice <= 20000;
    })

   console.log(newCoffeeItems);

   newCoffeeItems.forEach(function(a) {
     var cardTemplate = 
     `<div class="card">
     <img src="https://via.placeholder.com/400" />
        <div class="card-body">
          <h5 class="title">${a.ItemName}</h5>
          <p>가격 : <span class="price">${a.ItemPrice}</span></p>
          <button class="btn btn-danger">주문하기</button>
        </div>
      </div>`;
      $(".card2").append(cardTemplate);
   })
  })

  //2번 클릭 시 filter 사라지기
  $("#filterPrice").dblclick(function() {
    $(".card2").remove();
  })

  //원래대로 되돌리기 id값 이용
  $("#sortCurrent").click(function () {
      coffeeItems.sort(function (a, b) {
          return a.id - b.id;
        });
        //sort를 통해 데이터 정렬 후 데이터바인딩
        coffeeData();
      });

      
  //json 테스트
  $("#test").click(function () {
    $.ajax({
      url: "https://codingapple1.github.io/data.json",
      type: "GET",
    }).done(function (데이터) {
      console.log(데이터.model);
    });
  });
  $("#test").click(function () {
    $.ajax({
      url: "https://raw.githubusercontent.com/0131ryu/Javascript_book/b7aa12f3da6a928d81bc800cca595677128e8ebd/origin.json",
      type: "GET",
    }).done(function (데이터) {
      console.log(데이터);
    });
  });
</script>
</body>

</html>
