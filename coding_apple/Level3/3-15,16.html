<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>

    <!--터치 이벤트-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"
      integrity="sha256-eVNjHw5UeU0jUqPPpZHAkU1z4U+QFBBY488WvueTm88="
      crossorigin="anonymous"
    ></script>

    <!--css link-->
    <link href="3-15.css" rel="stylesheet" />
    <title>슬라이드 터치 기능</title>
  </head>
  <body>
    <div style="overflow: hidden; position: relative">
      <div class="slide-container">
        <div class="slide-box">
          <img src="img/card1.png" />
        </div>
        <div class="slide-box">
          <img src="img/card2.png" />
        </div>
        <div class="slide-box">
          <img src="img/card3.png" />
        </div>
      </div>
    </div>

    <script>
      var 이미지1 = document.querySelectorAll(".slide-box img")[0];

      var 매니저 = new Hammer.Manager(이미지1);
      매니저.add(new Hammer.Pan({ threshold: 100 }));

      var 지금보이는사진 = 1;

      매니저.on("pan", function (e) {
        console.log(e.deltaX);
        //왼쪽으로 그림을 슬라이드 할 때
        if (e.deltaX < -1) {
          $(".silde-container").css(
            "transform",
            "translateX(" + e.deltaX + "px)"
          );
          if (e.isFinal && 지금보이는사진 == 1) {
            //만약에 마우스를 놓으면 사진이 두 번째 사진으로 변해야함
            //transforming 클래스 추가
            $(".slide-container").addClass("transforming");
            $(".slide-container").css("transform", "translateX(-100vw)");
            ///transforming 클래스 제거(0.5초 후)
            setTimeout(function () {
              $(".slide-container").removeClass("transforming");
            }, 500);
          }
        }
      });
      //Pan
      //rotate
      //pinch
      //threshold: 이벤트 작동 역치
    </script>
  </body>
</html>
